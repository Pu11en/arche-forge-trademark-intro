name: Mark Stale Issues and Pull Requests

on:
  schedule:
    # Run every weekday at 9:00 AM UTC
    - cron: '0 9 * * 1-5'
  workflow_dispatch:

# Configure permissions for the workflow
permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - name: Mark Stale Issues and PRs
        uses: actions/stale@v8
        with:
          # Number of days of inactivity before an issue or pull request becomes stale
          days-before-stale: 60
          # Number of days of inactivity before a stale issue or pull request is closed
          days-before-close: 14
          # Only issues or pull requests with all of these labels are checked
          only-labels: ''
          # Issues or pull requests with any of these labels are never considered stale
          exempt-labels: |
            pinned
            security
            good first issue
            help wanted
            priority: critical
            priority: high
            long-term
          # Label to use when an issue or pull request is marked as stale
          stale-label: 'stale'
          # Comment to post when marking an issue or pull request as stale
          stale-issue-message: >
            This issue has been automatically marked as stale because it has not had
            recent activity. It will be closed if no further activity occurs. Thank you
            for your contributions.
          stale-pr-message: >
            This pull request has been automatically marked as stale because it has not had
            recent activity. It will be closed if no further activity occurs. Thank you
            for your contributions.
          # Comment to post when closing a stale issue or pull request
          close-issue-message: >
            This issue has been automatically closed due to inactivity. If you feel this
            is in error, please reopen the issue or create a new one with additional details.
          close-pr-message: >
            This pull request has been automatically closed due to inactivity. If you feel
            this is in error, please reopen the pull request or create a new one.
          # Limit the number of actions per run
          operations-per-run: 100
          # Do not actually close the issues or pull requests, just label them
          # Set to true for testing purposes
          debug-only: false
          # Remove stale labels when an issue or pull request is updated or commented on
          remove-stale-when-updated: true
          # Delete the branch when closing a stale pull request
          delete-branch: false